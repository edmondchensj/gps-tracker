<!-- Run map -->
<script type="module">
    import { createMap, renderMap } from "./js/maps.js";

    console.log("initialising map");
    var map = createMap("map");

    console.log('activating map GPS location service')
    renderMap(map, "user-location", "location-metadata", "metadata-placeholder")

</script>

<!-- Return to select bus page -->
<script type="module">
    import { goToPage, clearBusPlate } from "./js/utils.js"

    window.returnToSelectBus = async function () {
        goToPage("select-bus");
        clearBusPlate();
    }
</script>

<div class="row justify-content-center">
    <div class="badge badge-secondary text-lg" id="bus-plate"></div>
</div>
<div class="row px-2 justify-content-center mt-4">
    <div class="custom-control custom-switch" style="transform: scale(1.75);">
        <input type="checkbox" class="custom-control-input" id="user-location">
        <label class="custom-control-label text-dark bg-customisation-btn rounded" for="user-location">On/Off</label>
    </div>
</div>

<div class="row px-2" style="height:70px;overflow-y:auto">
    <div class="col-md-6 mx-auto px-2 text-center">
        <div class="mx-2 pl-4" id="location-metadata" style="display:none"></div>
        <div class="mx-2 pl-4" id="metadata-placeholder">
            <div id="placeholder" class="mt-4">
                <small class="font-sm text-muted font-weight-light text-center">GPS service may take a few seconds to load</small>
            </div>
        </div>
    </div>
</div>

<div class="row justify-content-center my-3">
    <div id="map" style="height:380px; width:400px"></div>
</div>


